package Pages;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.scene.Parent;
import javafx.scene.control.Button;
import javafx.scene.control.ComboBox;
import javafx.scene.control.Label;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;

public class SearchByCategory {
	private final VBox root;
	private final HBox buttons;

	public SearchByCategory() {
		root = new VBox(20);
		
		buttons = new HBox(20);
		buttons.setStyle("-fx-padding: 10px;");
		
		root.setStyle("-fx-background-color: cornflowerblue;"); // changes the color of the background 
		
		Label categoryMainLbl = new Label("Search Asset(s) by Category");
		categoryMainLbl.setStyle("-fx-font-size: 24px;"); // Change the font size of mainLbl

		Label assetCategoryDropLbl = new Label("Select Asset Category from dropdown menu");
        ComboBox<String> assetCategoryDropdown = new ComboBox<>();
        ObservableList<String> categories = readFromFile("category_data.txt");
        assetCategoryDropdown.setItems(categories);
        
        Button homeButton = new Button("Return to homepage");
        Button searchCategoryButton = new Button("Search");
        
        buttons.getChildren().addAll(homeButton, searchCategoryButton);
        
        root.getChildren().addAll(categoryMainLbl, assetCategoryDropLbl, buttons);
        
	
	
	}
	
	
	
	// return the VBox/stage 
    public Parent getRoot() {
        return root;
    }
	
    // Read from file and return the contents as an ObservableList
    private ObservableList<String> readFromFile(String filename) {
        ObservableList<String> items = FXCollections.observableArrayList();
        try (BufferedReader br = new BufferedReader(new FileReader(filename))) {
            String line;
            while ((line = br.readLine()) != null) {
                items.add(line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        return items;
    }
	
}
