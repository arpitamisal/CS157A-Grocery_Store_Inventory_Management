package Pages;

import javafx.geometry.Pos;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;

public class WarrantyAlert {
    private final VBox root;
    private final HBox buttons;
    private final Stage primaryStage;

    public WarrantyAlert(Stage mainStage) {
        this.primaryStage = mainStage;
        initializeComponents();
    }

    private void initializeComponents() {
        root = new VBox(20);
        root.setStyle("-fx-padding: 10; -fx-background-color: cornflowerblue;");
        root.setAlignment(Pos.CENTER);

        buttons = new HBox(20);
        buttons.setAlignment(Pos.CENTER);

        Label warningLbl = new Label("Warning! Some of your asset's have expired warranties!");
        warningLbl.setStyle("-fx-font-size: 20px;");

        Button homeButton = new Button("OK");
        Button expiredWarrantyAssetButton = new Button("Show Me");

        configureButtonActions(homeButton, expiredWarrantyAssetButton);

        buttons.getChildren().addAll(homeButton, expiredWarrantyAssetButton);
        root.getChildren().addAll(warningLbl, buttons);
    }

    private void configureButtonActions(Button homeButton, Button expiredWarrantyAssetButton) {
        homeButton.setOnAction(e -> {
            primaryStage.setScene(new Scene(new HomeScreen(primaryStage).getRoot(), 650, 650));
            primaryStage.setTitle("Home Page");
        });

        expiredWarrantyAssetButton.setOnAction(e -> {
            ExpiredWarrantyAsset expiredWarrantyAsset = new ExpiredWarrantyAsset();
            primaryStage.setScene(new Scene(expiredWarrantyAsset.getRoot(), 600, 600));
            primaryStage.setTitle("Expired Warranty Assets");
            primaryStage.show();
        });
    }

    public Parent getRoot() {
        return root;
    }
}
